/* 기본 스타일 초기화 */
body {
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #2c3e50;
    font-family: Arial, sans-serif;
}

/* 메인 레이아웃 */
.main-wrapper {
    display: flex;
    gap: 20px;
    align-items: flex-start;
}

.chess-section {
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* 체스판 그리드 */
.chess-board {
    width: 400px;
    height: 400px;
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(8, 1fr);
    border: 5px solid #34495e;
    box-shadow: 0 10px 25px rgba(0,0,0,0.3);
}

/* 체스판 칸 스타일 */
.square {
    width: 50px;
    height: 50px;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
}

.light { background-color: #bdc3c7; } /* 처음 좋아하신 연한 회색 */
.dark { background-color: #7f8c8d; }  /* 처음 좋아하신 진한 회색 */

/* 메인 컨트롤 버튼 스타일 */
.controls {
    margin-top: 20px;
    display: flex;
    gap: 15px; /* 버튼 사이 간격 약간 넓힘 */
}

.controls button {
    padding: 10px 30px; /* 버튼을 조금 더 넓게 */
    cursor: pointer;
    border: none;
    background-color: #3498db;
    color: white;
    border-radius: 4px;
    font-weight: bold;
    transition: 0.3s;
}

.controls button:hover {
    background-color: #2980b9;
}

/* 사이드바 내부 레이아웃 수정 */
.sidebar {
    width: 250px;
    height: 470px; 
    background-color: #34495e;
    border-radius: 8px;
    padding: 20px;
    color: white;
    box-sizing: border-box;
    border-left: 4px solid #1abc9c;
    
    /* 추가: 내부 요소들을 위아래로 배치 */
    display: flex;
    flex-direction: column;
}

.move-content {
    flex-grow: 1; /* 기보 영역이 가능한 공간을 모두 차지하게 함 */
    overflow-y: auto;
}

/* 사이드바 하단 버튼 영역 */
.sidebar-controls {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}

.sidebar-controls button {
    flex: 1; /* 두 버튼의 너비를 동일하게 */
    padding: 10px 0;
    cursor: pointer;
    border: none;
    border-radius: 4px;
    font-weight: bold;
    color: white;
    transition: opacity 0.3s;
}

#btn-flip {
    background-color: #aaaaaa;
}

/* 불러오기 버튼 색상 (주황계열) */
#btn-load {
    background-color: #f39c12;
    flex: 1;
    padding: 10px 0;
    cursor: pointer;
    border: none;
    border-radius: 4px;
    font-weight: bold;
    color: white;
}

/* 저장 버튼: 초록 계열 */
#btn-save {
    background-color: #27ae60;
}

.sidebar-controls button:hover {
    opacity: 0.8;
}

/* 메인 컨트롤 버튼 (기존 유지) */
.controls {
    margin-top: 20px;
    display: flex;
    gap: 10px;
}

/* 선택된 기물의 칸 강조 */
.square.selected {
    background-color: #f5f682 !important;
}

/* 기물 이미지 스타일 */
.piece {
    width: 100%;
    height: 100%;
    z-index: 1;
    position: relative;

    display: flex;
    justify-content: center;
    align-items: center;
    cursor: grab;
    user-select: none; /* 드래그 시 이미지 선택 방지 */
    cursor: pointer;
}

/* 이동 가능한 칸에 표시될 동그라미 */
.hint {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* 정확한 중앙 정렬 */
    width: 18px;
    height: 18px;
    background-color: rgba(0, 0, 0, 0.3); /* 약간 더 진하게 */
    border-radius: 50%;
    z-index: 10; /* 기물(1)보다 위에 배치 */
    pointer-events: none;
}

/* 기물을 잡을 수 있는 칸 (공격 가능) */
.square.attackable {
    background-color: #ff9999 !important;
    cursor: pointer;
}

.square.attackable .hint {
    display: none;
}

.piece img {
    width: 90%; /* 칸보다 살짝 작게 설정 */
    height: 90%;
}

/* 좌표를 포함한 전체 컨테이너 */
.board-container {
    display: flex;
    gap: 10px; /* 숫자와 판 사이의 간격 */
}

/* 숫자 좌표(세로) */
.coords-y {
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    color: #ecf0f1;
    font-weight: bold;
    padding-bottom: 25px; /* 하단 알파벳 높이만큼 보정 */
}

/* 판과 알파벳을 묶는 영역 */
.board-main {
    display: flex;
    flex-direction: column;
}

/* 알파벳 좌표(가로) */
.coords-x {
    display: flex;
    justify-content: space-around;
    padding-top: 4px;
    height: 25px;
    align-items: center;
    color: #ecf0f1;
    font-weight: bold;
}

/* 체스판 기존 스타일 유지 (좌표와 겹치지 않게 확인) */
.chess-board {
    width: 400px;
    height: 400px;
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(8, 1fr);
    border: 5px solid #34495e;
}

.move-row {
    display: flex;
    align-items: center;
    padding: 4px 8px;
    border-bottom: 1px solid #f0f0f0;
    /* font-family 줄을 삭제하여 원래 글꼴로 복구합니다 */
    font-size: 14px;
}

/* 번호 영역 (1.) */
.move-row .move-num {
    width: 35px; /* 번호가 차지할 너비 고정 */
    flex-shrink: 0; /* 너비 고정 유지 */
}

/* 백의 수 영역 */
.white-move {
    width: 70px; /* 기보 텍스트 길이에 맞춰 적절히 고정 */
    text-align: left;
    flex-shrink: 0;
}

/* 흑의 수 영역 */
.black-move {
    flex-grow: 1; /* 남은 공간 전체 차지 */
    text-align: left;
}

.white-move, .black-move {
    padding: 2px 4px;
    border-radius: 3px;
}